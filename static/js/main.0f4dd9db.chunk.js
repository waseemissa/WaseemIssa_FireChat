(this["webpackJsonpfire-chat"]=this["webpackJsonpfire-chat"]||[]).push([[0],{50:function(e,t,c){},51:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var a=c(12),n=c(33),r=c.n(n),s=(c(50),c(15)),i=(c(51),c(27)),o=(c(53),c(69),i.a.initializeApp({apiKey:"AIzaSyBDdpNGm-Z1fWvd1UZhhsXUX58-MbE7VqI",authDomain:"fir-chat-eaae3.firebaseapp.com",projectId:"fir-chat-eaae3",storageBucket:"fir-chat-eaae3.appspot.com",messagingSenderId:"119782918399",appId:"1:119782918399:web:1b3805c4e889d0341764ca",measurementId:"G-51CLJ89K0Z"}).firestore()),l=i.a.auth(),u=c(14);var d=function(){return Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"100vh",alignItems:"center"},children:Object(u.jsx)("button",{className:"btn btn-warning btn-flat",style:{padding:"30px",fontSize:"20px",borderRadius:"0",fontWeight:"600"},onClick:function(){var e=new i.a.auth.GoogleAuthProvider;l.signInWithPopup(e)},children:"Login Using Google"})})};var j=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"btn btn-warning btn-flat",onClick:function(){return l.signOut()},children:"Logout"})})},b=c(0),h=c.n(b),f=c(2),m=c(41),p=c.n(m);var x=function(e){var t=e.scroll,c=Object(a.useState)(""),n=Object(s.a)(c,2),r=n[0],d=n[1];function j(){return(j=Object(f.a)(h.a.mark((function e(c){var a,n,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),a=l.currentUser,n=a.uid,s=a.photoURL,u=a.displayName,e.next=4,o.collection("messages").add({text:r,createdAt:i.a.firestore.FieldValue.serverTimestamp(),photo_url:s,name:u,uid:n});case 4:d(""),t.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsx)("div",{className:"box-footer",children:Object(u.jsx)("form",{onSubmit:function(e){return j.apply(this,arguments)},children:Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("input",{id:"text",placeholder:"Message...",value:r,className:"form-control",onChange:function(e){return d(e.target.value)}}),Object(u.jsx)("span",{className:"input-group-btn",children:Object(u.jsx)("button",{className:"btn btn-warning btn-flat",type:"submit",endIcon:Object(u.jsx)(p.a,{}),children:"Send"})})]})})})},g=c(43),O=c.n(g);var v=function(){var e=Object(a.useRef)(),t=Object(a.useState)([]),c=Object(s.a)(t,2),n=c[0],r=c[1];return Object(a.useEffect)((function(){o.collection("messages").orderBy("createdAt").limit(50).onSnapshot((function(e){r(e.docs.map((function(e){return e.data()})))}))}),[]),Object(u.jsxs)("div",{className:"box-body",children:[Object(u.jsxs)("div",{className:"box-header with-border",children:[Object(u.jsx)("h3",{className:"box-title",children:"Chat Messages"}),Object(u.jsxs)("div",{className:"box-tools float-left",children:[Object(u.jsx)(j,{})," "]})]}),Object(u.jsx)("div",{class:"direct-chat-messages",children:n.map((function(e){var t=e.id,c=e.name,a=e.text,n=e.photo_url,r=e.uid,s=e.createdAt;return Object(u.jsxs)("div",{className:"direct-chat-msg ".concat(r===l.currentUser.uid?"right float-right":"float-left"),children:[Object(u.jsxs)("div",{className:"direct-chat-info clearfix",children:[" ",Object(u.jsx)("span",{className:"direct-chat-name ".concat(r===l.currentUser.uid?"float-right":"float-left"),children:c})," ",Object(u.jsx)("span",{className:"direct-chat-timestamp ".concat(r===l.currentUser.uid?"float-right":"float-left"),children:O()({createdAt:s}).format("MMM Do YY")})," "]})," ",Object(u.jsx)("img",{className:"direct-chat-img",src:n,alt:""}),Object(u.jsx)("div",{className:"direct-chat-text",children:a})]},t)}))}),Object(u.jsx)(x,{scroll:e}),Object(u.jsx)("div",{ref:e})]})},N=(c(66),c(44));var y=function(){var e=Object(N.a)(l),t=Object(s.a)(e,1)[0];return Object(a.useEffect)((function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("./firebase-sw.js").then((function(e){console.log("Registration successful, scope is:",e.scope)}))}),[]),Object(u.jsx)(u.Fragment,{children:t?Object(u.jsx)(v,{}):Object(u.jsx)(d,{})})};r.a.render(Object(u.jsx)(y,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.0f4dd9db.chunk.js.map