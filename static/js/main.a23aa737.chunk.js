(this["webpackJsonpfire-chat"]=this["webpackJsonpfire-chat"]||[]).push([[0],{50:function(e,t,a){},51:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var c=a(12),n=a(33),r=a.n(n),s=(a(50),a(15)),i=(a(51),a(27)),o=(a(53),a(69),i.a.initializeApp({apiKey:"AIzaSyBDdpNGm-Z1fWvd1UZhhsXUX58-MbE7VqI",authDomain:"fir-chat-eaae3.firebaseapp.com",projectId:"fir-chat-eaae3",storageBucket:"fir-chat-eaae3.appspot.com",messagingSenderId:"119782918399",appId:"1:119782918399:web:1b3805c4e889d0341764ca",measurementId:"G-51CLJ89K0Z"}).firestore()),l=i.a.auth(),d=a(14);var u=function(){return Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"100vh",alignItems:"center"},children:Object(d.jsx)("button",{className:"btn btn-warning btn-flat",style:{padding:"30px",fontSize:"20px",borderRadius:"0",fontWeight:"600"},onClick:function(){var e=new i.a.auth.GoogleAuthProvider;l.signInWithPopup(e)},children:"Login Using Google"})})};var j=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"btn btn-warning btn-flat",onClick:function(){return l.signOut()},children:"Logout"})})},b=a(0),h=a.n(b),f=a(2),m=a(41),p=a.n(m);var x=function(e){var t=e.scroll,a=Object(c.useState)(""),n=Object(s.a)(a,2),r=n[0],u=n[1];function j(){return(j=Object(f.a)(h.a.mark((function e(a){var c,n,s,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c=l.currentUser,n=c.uid,s=c.photoURL,d=c.displayName,e.next=4,o.collection("messages").add({text:r,createdAt:i.a.firestore.FieldValue.serverTimestamp(),photo_url:s,name:d,uid:n});case 4:u(""),t.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsx)("div",{className:"box-footer",children:Object(d.jsx)("form",{onSubmit:function(e){return j.apply(this,arguments)},children:Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("input",{id:"text",placeholder:"Message...",value:r,className:"form-control",onChange:function(e){return u(e.target.value)}}),Object(d.jsx)("span",{className:"input-group-btn",children:Object(d.jsx)("button",{className:"btn btn-warning btn-flat",type:"submit",endIcon:Object(d.jsx)(p.a,{}),children:"Send"})})]})})})},O=a(43),g=a.n(O);var v=function(){var e=Object(c.useRef)(),t=Object(c.useState)([]),a=Object(s.a)(t,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){o.collection("messages").orderBy("createdAt").limit(50).onSnapshot((function(e){r(e.docs.map((function(e){return e.data()})))}))}),[]),Object(d.jsxs)("div",{className:"box-body",children:[Object(d.jsxs)("div",{className:"box-header with-border",children:[Object(d.jsx)("h3",{className:"box-title",children:"Chat Messages"}),Object(d.jsxs)("div",{className:"box-tools float-left",children:[Object(d.jsx)(j,{})," "]})]}),Object(d.jsx)("div",{class:"direct-chat-messages",children:n.map((function(e){var t=e.id,a=e.name,c=e.text,n=e.photo_url,r=e.uid,s=e.createdAt;return Object(d.jsxs)("div",{className:"direct-chat-msg ".concat(r===l.currentUser.uid?"right float-right":"float-left"),children:[Object(d.jsxs)("div",{className:"direct-chat-info clearfix",children:[" ",Object(d.jsx)("span",{className:"direct-chat-name ".concat(r===l.currentUser.uid?"float-right":"float-left"),children:a})," ",Object(d.jsx)("span",{className:"direct-chat-timestamp ".concat(r===l.currentUser.uid?"float-right":"float-left"),children:g()({createdAt:s}).format("MMM Do YY")})," "]})," ",Object(d.jsx)("img",{className:"direct-chat-img",src:n,alt:""}),Object(d.jsx)("div",{className:"direct-chat-text",children:c})]},t)}))}),Object(d.jsx)(x,{scroll:e}),Object(d.jsx)("div",{ref:e})]})},N=(a(66),a(44));var y=function(){var e=Object(N.a)(l),t=Object(s.a)(e,1)[0];return Object(d.jsx)(d.Fragment,{children:t?Object(d.jsx)(v,{}):Object(d.jsx)(u,{})})};r.a.render(Object(d.jsx)(y,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.a23aa737.chunk.js.map